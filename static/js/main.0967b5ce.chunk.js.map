{"version":3,"sources":["api/api.js","assets/img/user.png","utils/object-helpers.js","redux/users-reducer.js","components/Profile/MyPosts/Post/Post.module.css","components/Navbar/Navbar.module.css","components/Dialogs/Dialogs.module.css","redux/auth-reducer.js","redux/app-reducer.js","redux/profile-reducer.js","redux/dialogs-reducer.js","redux/sidebar-reducer.js","redux/redux-store.js","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/DialogText/DialogText.jsx","utils/validators/validators.js","components/common/FormsControls/FormsControls.js","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/Music/Music.jsx","components/Navbar/Friends/FriendItem/FriendItem.jsx","components/Navbar/Friends/Friends.jsx","components/Navbar/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","components/Settings/Settings.jsx","components/App/App.jsx","index.js","components/common/FormsControls/FormsControls.module.css","assets/img/spinner.svg","hoc/withAuthRedirect.js","components/Header/Header.module.css","components/Navbar/Friends/FriendItem/FriendItem.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/App/App.module.css"],"names":["instance","axios","withCredentials","baseURL","headers","usersApi","getUsers","currentPage","pageSize","get","then","response","data","getUsersFollow","id","post","getUsersUnfollow","delete","getUserProfile","userId","console","warn","profileAPI","getStatus","updateStatus","status","put","savePhoto","file","formData","FormData","append","saveProfile","profile","authAPI","setAuthUser","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","initialState","users","totalUsersCount","isFetching","followingProgress","fake","followSuccess","type","unfollowSuccess","setCurrentPage","setIsFetching","setFollowingProgress","dispatch","a","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","follow","bind","unfollow","usersReducer","state","action","followed","filter","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","authUser","authReducer","initialized","appReducer","postsData","message","likesCount","setUserStatus","profileReducer","newPost","newPostText","photos","p","postId","dialogsData","name","messagesData","dialogsReducer","body","newMessageBody","friends","avatar","sidebarReducer","reducers","combineReducers","profilePage","dialogsPage","sidebar","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","DialogItem","props","className","style","dialog","to","activeClassName","active","DialogText","text","required","value","maxLengthCreator","maxLength","length","minLengthCreator","minLength","FormControl","input","meta","child","hasError","touched","error","formControl","children","Textarea","restProps","Input","createField","placeholder","validators","component","Field","validate","maxLength30","minLength2","AddMessageFormRedux","reduxForm","onSubmit","handleSubmit","Dialogs","sendMessage","dialogsElements","item","key","messagesElements","dialogs","dialogsItems","messages","values","connect","withAuthRedirect","Header","header","src","alt","loginBlock","onClick","Logout","HeaderContainer","this","Component","LoginReduxForm","formSummeryError","Login","url","stopSubmit","_error","Music","FriendItem","img","Friends","friend","FriendsContainer","friendsCreator","Navbar","bg","activeLink","friends_item","News","Post","MyPosts","React","memo","addPostItem","postsElements","MyPostsFormRedux","posts","MyPostsContainer","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onChange","e","target","autoFocus","onBlur","updateUserStatus","onDoubleClick","ProfileData","isOwner","goToEditMode","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Object","keys","contacts","contactTitle","contactValue","Contact","contact","ProfileDataFormRedux","ProfileInfo","Preloader","userImg","small","usersPhoto","files","profilePhoto","initialValues","Profile","content","getUserStatus","ProfileContainer","match","params","authUserId","refreshProfile","prevProps","prevState","getState","Promise","reject","Error","withRouter","Settings","UsersContainer","lazy","App","catchAllUnhandledRejection","event","reason","initializeApp","addEventListener","removeEventListener","app_wrapper","fallback","app_wrapper_content","path","render","DialogsContainer","AppContainer","all","log","ReactJsApp","basename","process","ReactDOM","document","getElementById","mapStateToPropsRedirect","RedirectComponent"],"mappings":"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","file":"static/js/main.0967b5ce.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"1a1f9c33-2508-475a-aadd-c89b7fa5fc8d\"\r\n  }\r\n})\r\n\r\nexport const usersApi = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {\r\n      return response.data;\r\n    })\r\n  },\r\n  getUsersFollow(id) {\r\n    return instance.post(`follow/${id}`).then(response => {\r\n      return response.data;\r\n    })\r\n  },\r\n  getUsersUnfollow(id) {\r\n    return instance.delete(`follow/${id}`).then(response => {\r\n      return response.data;\r\n    })\r\n  },\r\n  getUserProfile(userId) {\r\n    console.warn(\"Obsolete method. Please use profileAPI object.\")\r\n    return profileAPI.getUserProfile(userId);\r\n  }\r\n}\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {\r\n    return instance.get(`profile/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  getStatus(userId) {\r\n    return instance.get(`profile/status/` + userId).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  updateStatus(status) {\r\n    return instance.put(`profile/status`, {\r\n      status: status\r\n    }).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  savePhoto(file) {\r\n    let formData = new FormData();\r\n    formData.append(\"image\", file);\r\n    return instance.put(`profile/photo`, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\"\r\n      }\r\n    }).then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile).then(response => {\r\n      return response.data;\r\n    });\r\n  }\r\n}\r\n\r\nexport const authAPI = {\r\n  setAuthUser() {\r\n    return instance.get(\"auth/me\").then(response => {\r\n      return response.data;\r\n    });\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(\"auth/login\", {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha\r\n    });\r\n  },\r\n  logout() {\r\n    return instance.delete(\"auth/login\");\r\n  }\r\n}\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(\"security/get-captcha-url\").then(response => {\r\n      return response.data;\r\n    });\r\n  }\r\n}","module.exports = __webpack_public_path__ + \"static/media/user.6b20c1eb.png\";","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\r\n\treturn items.map((u) => {\r\n\t\tif (u[objPropName] === itemId) {\r\n\t\t\treturn { ...u, ...newObjProps };\r\n\t\t}\r\n\t\treturn u;\r\n\t})\r\n}","import {\r\n  usersApi\r\n} from \"../api/api\";\r\nimport {\r\n  updateObjectInArray\r\n} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\r\nconst CONTENT_LOADING = \"CONTENT_LOADING\";\r\nconst FOLLOWING_PROGRESS = \"FOLLOWING_PROGRESS\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 10,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingProgress: [],\r\n  fake: 10\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return {\r\n        ...state,\r\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n          followed: true\r\n        })\r\n      }\r\n      case UNFOLLOW:\r\n        return {\r\n          ...state,\r\n          users: updateObjectInArray(state.users, action.userId, \"id\", {\r\n            followed: false\r\n          })\r\n        }\r\n        case SET_USERS:\r\n          return {\r\n            ...state,\r\n            users: action.users\r\n          }\r\n          case SET_CURRENT_PAGE:\r\n            return {\r\n              ...state,\r\n              currentPage: action.currentPage\r\n            }\r\n            case SET_TOTAL_USERS_COUNT:\r\n              return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n              }\r\n              case CONTENT_LOADING:\r\n                return {\r\n                  ...state,\r\n                  isFetching: action.isFetching\r\n                }\r\n                case FOLLOWING_PROGRESS:\r\n                  return {\r\n                    ...state,\r\n                    followingProgress: action.isFetching ? [...state.followingProgress, action.userId] :\r\n                      state.followingProgress.filter(id => id !== action.userId)\r\n                  }\r\n                  default:\r\n                    return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => {\r\n  return {\r\n    type: FOLLOW,\r\n    userId: userId\r\n  };\r\n};\r\n\r\nexport const unfollowSuccess = (userId) => {\r\n  return {\r\n    type: UNFOLLOW,\r\n    userId: userId\r\n  };\r\n};\r\n\r\nexport const setUsers = (users) => {\r\n  return {\r\n    type: SET_USERS,\r\n    users: users\r\n  };\r\n};\r\n\r\nexport const setCurrentPage = (currentPage) => {\r\n  return {\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage: currentPage\r\n  };\r\n};\r\n\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n  return {\r\n    type: SET_TOTAL_USERS_COUNT,\r\n    totalUsersCount: totalUsersCount\r\n  };\r\n};\r\n\r\nexport const setIsFetching = (isFetching) => {\r\n  return {\r\n    type: CONTENT_LOADING,\r\n    isFetching: isFetching\r\n  };\r\n};\r\n\r\nexport const setFollowingProgress = (isFetching, userId) => {\r\n  return {\r\n    type: FOLLOWING_PROGRESS,\r\n    isFetching: isFetching,\r\n    userId: userId\r\n  };\r\n};\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n  return async dispatch => {\r\n    dispatch(setIsFetching(true));\r\n    dispatch(setCurrentPage(currentPage));\r\n    let data = await usersApi.getUsers(currentPage, pageSize)\r\n    dispatch(setIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount));\r\n  }\r\n}\r\n\r\nconst followUnfollowFlow = async (dispatch, id, apiMethod, actionCreator) => {\r\n  dispatch(setFollowingProgress(true, id));\r\n  let data = await apiMethod(id)\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(id));\r\n  }\r\n  dispatch(setFollowingProgress(false, id));\r\n}\r\n\r\nexport const follow = (id) => {\r\n  return async dispatch => {\r\n    let apiMethod = usersApi.getUsersFollow.bind(usersApi);\r\n    let actionCreator = followSuccess;\r\n    followUnfollowFlow(dispatch, id, apiMethod, actionCreator);\r\n  }\r\n}\r\n\r\nexport const unfollow = (id) => {\r\n  return async dispatch => {\r\n    let apiMethod = usersApi.getUsersUnfollow.bind(usersApi);\r\n    let actionCreator = unfollowSuccess;\r\n    followUnfollowFlow(dispatch, id, apiMethod, actionCreator);\r\n  }\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__nVV_a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bg\":\"Navbar_bg__3y1eG\",\"item\":\"Navbar_item__ViSkV\",\"activeLink\":\"Navbar_activeLink__2WA5I\",\"friends\":\"Navbar_friends__3HeYU\",\"friends_item\":\"Navbar_friends_item__24hnC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3rM-e\",\"dialogsItems\":\"Dialogs_dialogsItems__2wzw1\",\"active\":\"Dialogs_active__3rHne\",\"dialog\":\"Dialogs_dialog__15aEN\",\"messages\":\"Dialogs_messages__18mXe\"};","import { authAPI, securityAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nconst SET_USER_DATA = \"SET_USER_DATA\";\r\nconst GET_CAPTCHA_URL = \"GET_CAPTCHA_URL\";\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false,\r\n  captchaUrl: null\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    case GET_CAPTCHA_URL:\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    payload: { userId, email, login, isAuth }\r\n  };\r\n};\r\n\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => {\r\n  return {\r\n    type: GET_CAPTCHA_URL,\r\n    payload: { captchaUrl }\r\n  };\r\n};\r\n\r\nexport const authUser = () => async (dispatch) => {\r\n  let data = await authAPI.setAuthUser();\r\n  if (data.resultCode === 0) {\r\n    let { id, email, login } = data.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  let response = await securityAPI.getCaptchaUrl()\r\n  const captchaUrl = response.url;\r\n\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n}\r\n\r\nexport const Login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n  let response = await authAPI.login(email, password, rememberMe, captcha)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(authUser());\r\n  } else {\r\n    if (response.data.resultCode === 10) {\r\n      dispatch(getCaptchaUrl());\r\n    }\r\n\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\r\n    let action = stopSubmit(\"login\", { _error: message });\r\n    dispatch(action);\r\n  }\r\n}\r\n\r\nexport const Logout = () => async (dispatch) => {\r\n  let response = await authAPI.logout()\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n}\r\n\r\nexport default authReducer;","import { authUser } from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = \"SET_INITIALIZED\";\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_INITIALIZED:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const setInitialized = () => {\r\n  return {\r\n    type: SET_INITIALIZED\r\n  };\r\n};\r\n\r\nexport const initializeApp = () => (dispatch) => {\r\n  try {\r\n    Promise.all([dispatch(authUser())]).then(() => {\r\n      dispatch(setInitialized());\r\n    })\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport default appReducer;","import {\r\n  profileAPI\r\n} from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst DELETE_POST = \"DELETE_POST\";\r\nconst SAVE_PHOTO_SUCCESS = \"SAVE_PHOTO_SUCCESS\";\r\n\r\nlet initialState = {\r\n  postsData: [{\r\n    id: 1,\r\n    message: \"Hello PHP\",\r\n    likesCount: 10\r\n  },\r\n  {\r\n    id: 2,\r\n    message: \"Hello PHP\",\r\n    likesCount: 11\r\n  },\r\n  {\r\n    id: 3,\r\n    message: \"Hello VUE\",\r\n    likesCount: 15\r\n  },\r\n  {\r\n    id: 4,\r\n    message: \"Hello REACT\",\r\n    likesCount: 17\r\n  }\r\n  ],\r\n  profile: null,\r\n  status: \"\"\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST:\r\n      let newPost = {\r\n        id: 5,\r\n        message: action.newPostText,\r\n        likesCount: 0\r\n      };\r\n      return {\r\n        ...state,\r\n        postsData: [...state.postsData, newPost]\r\n      }\r\n\r\n    case SET_USER_PROFILE:\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n\r\n    case SET_STATUS:\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n\r\n    case SAVE_PHOTO_SUCCESS:\r\n      return {\r\n        ...state,\r\n        profile: {\r\n          ...state.profile,\r\n          photos: action.photos\r\n        }\r\n      }\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        postsData: state.postsData.filter(p => p.id !== action.postId)\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addPostItem = (newPostText) => {\r\n  return {\r\n    type: ADD_POST,\r\n    newPostText: newPostText\r\n  };\r\n};\r\n\r\nexport const deletePostItem = (postId) => {\r\n  return {\r\n    type: DELETE_POST,\r\n    postId: postId\r\n  };\r\n};\r\n\r\nexport const setUserProfile = profile => {\r\n  return {\r\n    type: SET_USER_PROFILE,\r\n    profile: profile\r\n  };\r\n};\r\n\r\nexport const setUserStatus = status => {\r\n  return {\r\n    type: SET_STATUS,\r\n    status: status\r\n  };\r\n};\r\n\r\nexport const savePhotoSuccess = photos => {\r\n  return {\r\n    type: SAVE_PHOTO_SUCCESS,\r\n    photos: photos\r\n  };\r\n};\r\n\r\nexport const getUserProfile = (userId) => {\r\n  return async dispatch => {\r\n    let data = await profileAPI.getUserProfile(userId)\r\n    dispatch(setUserProfile(data));\r\n  }\r\n}\r\n\r\nexport const getUserStatus = (userId) => {\r\n  return async dispatch => {\r\n    let data = await profileAPI.getStatus(userId);\r\n    dispatch(setUserStatus(data));\r\n  }\r\n}\r\n\r\nexport const updateUserStatus = (status) => {\r\n  return async dispatch => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(setUserStatus(status));\r\n    }\r\n  }\r\n}\r\n\r\nexport const profilePhoto = (file) => {\r\n  return async dispatch => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(savePhotoSuccess(response.data.photos));\r\n    }\r\n  }\r\n}\r\n\r\nexport const saveProfile = (profile) => {\r\n  return async (dispatch, getState) => {\r\n    const userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n      dispatch(getUserProfile(userId));\r\n    } else {\r\n      try {\r\n        let message = response.messages.length > 0 ? response.messages[0] : \"Some error\";\r\n        let action = stopSubmit(\"profileDataForm\", { _error: message });\r\n        dispatch(action);\r\n        try {\r\n          return Promise.reject(new Error(message));\r\n        } catch (error) {\r\n          throw error\r\n        }\r\n      } catch (error) {\r\n        console.error(error)\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n\r\nexport default profileReducer;","const SEND_MESSAGE = \"SEND_MESSAGE\";\r\n\r\nlet initialState = {\r\n  dialogsData: [\r\n    { id: 1, name: \"Роман\" },\r\n    { id: 2, name: \"Алексей\" },\r\n    { id: 3, name: \"Дмитрий\" },\r\n    { id: 4, name: \"Роман\" }\r\n  ],\r\n  messagesData: [\r\n    { id: 1, message: \"PHP\" },\r\n    { id: 2, message: \"PHP\" },\r\n    { id: 3, message: \"VUE\" },\r\n    { id: 4, message: \"REACT\" }\r\n  ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case SEND_MESSAGE:\r\n      let body = action.newMessageBody;\r\n      return {\r\n        ...state,\r\n        messagesData: [...state.messagesData, { id: 5, message: body }]\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const sendMessage = (newMessageBody) => {\r\n  return {\r\n    type: SEND_MESSAGE,\r\n    newMessageBody: newMessageBody\r\n  };\r\n};\r\n\r\nexport default dialogsReducer;","const UPDATE_FRIENDS = \"UPDATE_FRIENDS\";\r\n\r\nlet initialState = {\r\n  friends: [\r\n    { id: 1, name: \"Roma\", avatar: \"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg\" },\r\n    { id: 2, name: \"Dima\", avatar: \"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg\" },\r\n    { id: 3, name: \"Viktor\", avatar: \"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg\" }\r\n  ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_FRIENDS:\r\n      return state;\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const friendsCreator = () => {\r\n  return {\r\n    type: UPDATE_FRIENDS\r\n  };\r\n};\r\n\r\nexport default sidebarReducer;","import { combineReducers, createStore, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n  applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nexport default store;","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"../Dialogs.module.css\";\r\n\r\nconst DialogItem = props => {\r\n  return (\r\n    <div className={style.dialog}>\r\n      <NavLink to={\"/dialogs/\" + props.id} activeClassName={style.active}>\r\n        {props.name}\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from \"react\";\r\nimport style from \"../Dialogs.module.css\";\r\n\r\nconst DialogText = props => {\r\n  return (\r\n    <div className={style.message} id={props.id}>\r\n      {props.text}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DialogText;\r\n","export const required = (value) => {\r\n\tif (value) {\r\n\t\treturn undefined;\r\n\t}\r\n\treturn \"Field is required\";\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n\tif (value && value.length > maxLength) {\r\n\t\treturn `Max length is ${maxLength} symbols`;\r\n\t}\r\n\treturn undefined;\r\n}\r\n\r\nexport const minLengthCreator = (minLength) => (value) => {\r\n\tif (value && value.length < minLength) {\r\n\t\treturn `Min length is ${minLength} symbols`;\r\n\t}\r\n\treturn undefined;\r\n}","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport style from \"./FormsControls.module.css\";\r\n\r\nconst FormControl = ({ input, meta, child, ...props }) => {\r\n\tconst hasError = meta.touched && meta.error\r\n\treturn (\r\n\t\t<div className={style.formControl + \" \" + (hasError ? style.error : \"\")}>\r\n\t\t\t<div>\r\n\t\t\t\t{props.children}\r\n\t\t\t</div>\r\n\t\t\t{hasError && <span>{meta.error}</span>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\tconst { input, meta, child, ...restProps } = props;\r\n\treturn <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props = {}, text = \"\") => {\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Field placeholder={placeholder} name={name} validate={validators} component={component} {...props} /> {text}\r\n\t\t</div>\r\n\t)\r\n}","import React from \"react\";\r\nimport style from \"./Dialogs.module.css\";\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport DialogText from \"./DialogText/DialogText\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  required,\r\n  minLengthCreator,\r\n  maxLengthCreator,\r\n} from \"../../utils/validators/validators\";\r\nimport { Textarea } from \"../common/FormsControls/FormsControls\";\r\n\r\nconst Dialogs = ({ sendMessage, dialogsPage }) => {\r\n  let state = dialogsPage;\r\n\r\n  let dialogsElements = state.dialogsData.map((item) => {\r\n    return <DialogItem name={item.name} id={item.id} key={item.id} />;\r\n  });\r\n\r\n  let messagesElements = state.messagesData.map((item) => {\r\n    return <DialogText text={item.message} id={item.id} key={item.id} />;\r\n  });\r\n\r\n  const addNewMessage = (values) => {\r\n    sendMessage(values.newMessageBody);\r\n  };\r\n\r\n  return (\r\n    <div className={style.dialogs}>\r\n      <div className={style.dialogsItems}>{dialogsElements}</div>\r\n      <div className={style.messages}>\r\n        <div>{messagesElements}</div>\r\n        <AddMessageFormRedux onSubmit={addNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst minLength2 = minLengthCreator(2);\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          component={Textarea}\r\n          validate={[required, maxLength30, minLength2]}\r\n          name=\"newMessageBody\"\r\n          placeholder=\"Enter your message\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add Post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({ form: \"dialogAddMessageForm\" })(\r\n  AddMessageForm\r\n);\r\nexport default Dialogs;\r\n","import { connect } from \"react-redux\";\r\nimport { sendMessage } from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, { sendMessage }),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n","import React from \"react\";\r\nimport style from \"./Header.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n  return (\r\n    <header className={style.header}>\r\n      <img\r\n        src=\"https://static.vecteezy.com/system/resources/previews/000/039/568/original/hawx-logo-vector.jpg\"\r\n        alt=\"\"\r\n      />\r\n      <div className={style.loginBlock}>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} - <button onClick={props.Logout}>Log out</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to={\"/login\"}>Login</NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { Component } from \"react\";\r\nimport { Logout } from \"../../redux/auth-reducer\";\r\nimport Header from \"./Header\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\n\r\nclass HeaderContainer extends Component {\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps, { Logout }))(HeaderContainer);\r\n","import React from \"react\";\r\nimport { reduxForm, Field } from \"redux-form\";\r\nimport { Input } from \"../common/FormsControls/FormsControls\";\r\nimport { required } from \"../../utils/validators/validators\";\r\nimport { connect } from \"react-redux\";\r\nimport { Login } from \"../../redux/auth-reducer\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport style from \"../common/FormsControls/FormsControls.module.css\";\r\n\r\nconst LoginForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          name={\"email\"}\r\n          placeholder={\"Email\"}\r\n          component={Input}\r\n          validate={[required]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          name={\"password\"}\r\n          placeholder={\"Password\"}\r\n          component={Input}\r\n          validate={[required]}\r\n          type={\"password\"}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Field\r\n          name={\"rememberMe\"}\r\n          type={\"checkbox\"}\r\n          component={Input}\r\n          validate={[required]}\r\n        />\r\n        remember me\r\n      </div>\r\n      {props.captchaUrl && <img src={props.captchaUrl} alt=\"captcha\" />}\r\n      {props.captchaUrl && (\r\n        <Field name={\"captcha\"} component={Input} validate={[required]} />\r\n      )}\r\n      {props.error && (\r\n        <div className={style.formSummeryError}>{props.error}</div>\r\n      )}\r\n      <div>\r\n        <button>Login</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: \"login\",\r\n})(LoginForm);\r\n\r\nconst UserLogin = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.Login(\r\n      formData.email,\r\n      formData.password,\r\n      formData.rememberMe,\r\n      formData.captcha\r\n    );\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Redirect to={\"/profile\"} />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Login</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    captchaUrl: state.auth.captchaUrl,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { Login })(UserLogin);\r\n","import React from \"react\";\r\n// import style from \"./Music.module.css\";\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>Music</div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from \"react\";\r\nimport style from \"./FriendItem.module.css\";\r\n\r\nconst FriendItem = ({ id, name, img }) => {\r\n  return (\r\n    <div id={id} className={style.item}>\r\n      <img src={img} alt=\"avatar\" className={style.img} />\r\n      <span>{name}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FriendItem;\r\n","import React from \"react\";\r\nimport FriendItem from \"./FriendItem/FriendItem\";\r\n\r\nconst Friends = ({ state }) => {\r\n  let friend = state.friends.map(item => {\r\n    return (\r\n      <FriendItem\r\n        key={item.id}\r\n        id={item.id}\r\n        name={item.name}\r\n        img={item.avatar}\r\n      />\r\n    );\r\n  });\r\n  return <>{friend}</>;\r\n};\r\n\r\nexport default Friends;\r\n","import Friends from \"./Friends\";\r\nimport { friendsCreator } from \"../../../redux/sidebar-reducer\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    state: state.sidebar\r\n  };\r\n};\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    friendsCreator: () => {\r\n      dispatch(friendsCreator());\r\n    }\r\n  };\r\n};\r\nconst FriendsContainer = connect(mapStateToProps, mapDispatchToProps)(Friends);\r\n\r\nexport default FriendsContainer;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport style from \"./Navbar.module.css\";\r\nimport FriendsContainer from \"./Friends/FriendsContainer\";\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <div className={style.bg}>\r\n      <nav>\r\n        <div className={style.item}>\r\n          <NavLink to=\"/profile\" activeClassName={style.activeLink}>\r\n            Profile\r\n          </NavLink>\r\n        </div>\r\n        <div className={style.item}>\r\n          <NavLink to=\"/dialogs\" activeClassName={style.activeLink}>\r\n            Messages\r\n          </NavLink>\r\n        </div>\r\n        <div className={style.item}>\r\n          <NavLink to=\"/users\" activeClassName={style.activeLink}>\r\n            Users\r\n          </NavLink>\r\n        </div>\r\n        <div className={style.item}>\r\n          <NavLink to=\"/news\" activeClassName={style.activeLink}>\r\n            News\r\n          </NavLink>\r\n        </div>\r\n        <div className={style.item}>\r\n          <NavLink to=\"/music\" activeClassName={style.activeLink}>\r\n            Music\r\n          </NavLink>\r\n        </div>\r\n        <div className={style.item}>\r\n          <NavLink to=\"/settings\" activeClassName={style.activeLink}>\r\n            Settings\r\n          </NavLink>\r\n        </div>\r\n      </nav>\r\n      <div className={style.friends}>\r\n        <h3>Friends</h3>\r\n        <div className={style.friends_item}>\r\n          <FriendsContainer />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n// import style from \"./News.module.css\";\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>News</div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from \"react\";\r\nimport style from \"./Post.module.css\";\r\n\r\nconst Post = ({ message, likesCount }) => {\r\n  return (\r\n    <div className={style.item}>\r\n      <img\r\n        src=\"https://movies4maniacs.liberty.me/wp-content/uploads/sites/1218/2015/09/avatarsucks.jpg\"\r\n        alt=\"Avatar\"\r\n      />\r\n      {message}\r\n      <div>\r\n        <span>like {likesCount}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport style from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport {\r\n  required,\r\n  minLengthCreator,\r\n  maxLengthCreator,\r\n} from \"../../../utils/validators/validators\";\r\nimport { Textarea } from \"../../common/FormsControls/FormsControls\";\r\n\r\nconst MyPosts = React.memo(({ postsData, addPostItem }) => {\r\n  const postsElements = postsData.map((item) => {\r\n    return (\r\n      <Post\r\n        key={item.id}\r\n        message={item.message}\r\n        likesCount={item.likesCount}\r\n        id={item.id}\r\n      />\r\n    );\r\n  });\r\n\r\n  const addNewPost = (values) => {\r\n    addPostItem(values.newPostText);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3>My Posts</h3>\r\n      <MyPostsFormRedux onSubmit={addNewPost} />\r\n      <div className={style.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\nconst minLength2 = minLengthCreator(2);\r\nconst MyPostsForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          component={Textarea}\r\n          name=\"newPostText\"\r\n          validate={[required, maxLength30, minLength2]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst MyPostsFormRedux = reduxForm({ form: \"profileMyPostsForm\" })(MyPostsForm);\r\n\r\nexport default MyPosts;\r\n","import { addPostItem } from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    postsData: state.profilePage.postsData,\r\n    newPostText: state.profilePage.newPostText,\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n  addPostItem,\r\n})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateUserStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!editMode ? (\r\n        <div>\r\n          <b>Status: </b>\r\n          <span onDoubleClick={activateEditMode}>\r\n            {status || \"Hello World\"}\r\n          </span>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <input\r\n            onChange={onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deactivateEditMode}\r\n            value={status}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React, { useState } from \"react\";\r\nimport style from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../../assets/img/spinner.svg\";\r\nimport usersPhoto from \"../../../assets/img/user.png\";\r\n// import ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport { ProfileDataForm } from \"./ProfileDataForm\";\r\nimport { reduxForm } from \"redux-form\";\r\n\r\nconst ProfileInfo = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  const onChangePhotoProfile = (e) => {\r\n    if (e.target.files.length) {\r\n      return props.profilePhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  if (!props.profile) {\r\n    return <img alt=\"img\" src={Preloader} />;\r\n  }\r\n\r\n  const onSubmit = (formData) => {\r\n    props.saveProfile(formData).then(() => {\r\n      setEditMode(false);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <img\r\n        className={style.userImg}\r\n        src={\r\n          !props.profile.photos.small ? usersPhoto : props.profile.photos.small\r\n        }\r\n        alt=\"avatar\"\r\n      />\r\n      <div>\r\n        {props.isOwner && <input type=\"file\" onChange={onChangePhotoProfile} />}\r\n      </div>\r\n      <ProfileStatusWithHooks\r\n        status={props.status}\r\n        updateUserStatus={props.updateUserStatus}\r\n      />\r\n      {editMode ? (\r\n        <ProfileDataFormRedux\r\n          {...props}\r\n          onSubmit={onSubmit}\r\n          initialValues={props.profile}\r\n        />\r\n      ) : (\r\n          <ProfileData {...props} goToEditMode={() => setEditMode(true)} />\r\n        )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProfileData = (props) => {\r\n  return (\r\n    <div>\r\n      {props.isOwner && (\r\n        <div>\r\n          <button onClick={props.goToEditMode}>Edit</button>\r\n        </div>\r\n      )}\r\n      <div>\r\n        <b>Name:</b> {props.profile.fullName}\r\n      </div>\r\n      <div>\r\n        <b>About Me:</b> {props.profile.aboutMe}\r\n      </div>\r\n      <div>\r\n        <b>About my job:</b> {props.profile.lookingForAJob}\r\n      </div>\r\n      <div>\r\n        <b>About my skills:</b> {props.profile.lookingForAJobDescription}\r\n      </div>\r\n      <div>\r\n        <b>Contacts:</b>\r\n        {Object.keys(props.profile.contacts).map((key) => {\r\n          return (\r\n            <Contact\r\n              key={key}\r\n              contactTitle={key}\r\n              contactValue={props.profile.contacts[key]}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Contact = ({ contactTitle, contactValue }) => {\r\n  return (\r\n    <div className={style.contact}>\r\n      <b>{contactTitle}:</b> {contactValue}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProfileDataFormRedux = reduxForm({ form: \"profileDataForm\" })(\r\n  ProfileDataForm\r\n);\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport {\r\n  createField,\r\n  Input,\r\n  Textarea,\r\n} from \"../../common/FormsControls/FormsControls\";\r\nimport style from \"../../common/FormsControls/FormsControls.module.css\";\r\n\r\nexport const ProfileDataForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      {props.isOwner && (\r\n        <div>\r\n          <button>Save</button>\r\n        </div>\r\n      )}\r\n      {props.error && (\r\n        <div className={style.formSummeryError}>{props.error}</div>\r\n      )}\r\n      <div>\r\n        <b>Name:</b> {createField(\"Full Name\", \"fullName\", [], Input)}\r\n      </div>\r\n      <div>\r\n        <b>About Me:</b> {createField(\"About Me\", \"aboutMe\", [], Textarea)}\r\n      </div>\r\n      <div>\r\n        <b>About my job:</b>{\" \"}\r\n        {createField(\"\", \"lookingForAJob\", [], Input, { type: \"checkbox\" })}\r\n      </div>\r\n      <div>\r\n        <b>About my skills:</b>{\" \"}\r\n        {createField(\r\n          \"About my skills\",\r\n          \"lookingForAJobDescription\",\r\n          [],\r\n          Textarea\r\n        )}\r\n      </div>\r\n      <div>\r\n        <b>Contacts:</b>\r\n        {Object.keys(props.profile.contacts).map((key) => {\r\n          return (\r\n            <div>\r\n              <b>\r\n                {key}: {createField(key, \"contacts.\" + key, [], Input)}\r\n              </b>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport style from \"./Profile.module.css\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div className={style.content}>\r\n      <ProfileInfo\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateUserStatus={props.updateUserStatus}\r\n        getUserStatus={props.getUserStatus}\r\n        isOwner={props.isOwner}\r\n        profilePhoto={props.profilePhoto}\r\n        saveProfile={props.saveProfile}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {\r\n  getUserProfile,\r\n  getUserStatus,\r\n  updateUserStatus,\r\n  profilePhoto,\r\n  saveProfile,\r\n} from \"../../redux/profile-reducer\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends Component {\r\n  refreshProfile() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      // userId = 6836;\r\n      userId = this.props.authUserId;\r\n    }\r\n    this.props.getUserProfile(userId);\r\n    this.props.getUserStatus(userId);\r\n  }\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        isOwner={!this.props.match.params.userId}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        updateUserStatus={this.props.updateUserStatus}\r\n        profilePhoto={this.props.profilePhoto}\r\n        saveProfile={this.props.saveProfile}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    updateUserStatus,\r\n    profilePhoto,\r\n    saveProfile,\r\n  }),\r\n  withRouter,\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n","import React from \"react\";\r\n// import style from \"./Settings.module.css\";\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>Settings</div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React, { Suspense } from \"react\";\nimport { connect, Provider } from \"react-redux\";\nimport { BrowserRouter, Route, withRouter, Switch } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport Preloader from \"../../assets/img/spinner.svg\";\nimport { initializeApp } from \"../../redux/app-reducer\";\nimport store from \"../../redux/redux-store\";\nimport DialogsContainer from \"../Dialogs/DialogsContainer\";\nimport HeaderContainer from \"../Header/HeaderContainer\";\nimport UserLogin from \"../Login/Login\";\nimport Music from \"../Music/Music\";\nimport Navbar from \"../Navbar/Navbar\";\nimport News from \"../News/News\";\nimport ProfileContainer from \"../Profile/ProfileContainer\";\nimport Settings from \"../Settings/Settings\";\nimport style from \"./App.module.css\";\n\nconst UsersContainer = React.lazy(() => {\n  return import(\"../Users/UsersContainer\");\n});\n\nclass App extends React.Component {\n  catchAllUnhandledRejection = (event) => {\n    console.error(event.reason);\n  }\n  componentDidMount() {\n    this.props.initializeApp();\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledRejection)\n  }\n  componentWillUnmount() {\n    window.removeEventListener(\"unhandledrejection\", this.catchAllUnhandledRejection)\n  }\n  render() {\n    // if (!this.props.initialized) {\n    //   return (\n    //     <div className={style.mainPreloader}>\n    //       <img alt=\"img\" src={Preloader} />\n    //     </div>\n    //   )\n    // }\n    return (\n      <div className={style.app_wrapper}>\n        <Suspense fallback={<img alt=\"img\" src={Preloader} />}>\n          <HeaderContainer />\n          <Navbar />\n          <div className={style.app_wrapper_content}>\n            <Switch>\n              <Route\n                path=\"/profile/:userId?\"\n                render={() => {\n                  return <ProfileContainer />;\n                }}\n              />\n              <Route\n                path=\"/dialogs\"\n                render={() => {\n                  return <DialogsContainer />;\n                }}\n              />\n              <Route\n                path=\"/users\"\n                render={() => {\n                  return <UsersContainer />;\n                }}\n              />\n              <Route\n                path=\"/login\"\n                render={() => {\n                  return <UserLogin />;\n                }}\n              />\n              <Route path=\"/news\" component={News} />\n              <Route path=\"/music\" component={Music} />\n              <Route path=\"/settings\" component={Settings} />\n            </Switch>\n          </div>\n        </Suspense>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.app.initialized,\n  };\n};\n\nlet AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);\n\nlet ReactJsApp = () => {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </BrowserRouter>\n  );\n};\n\nexport default ReactJsApp;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactJsApp from './components/App/App';\nimport './index.css';\n\nReactDOM.render( < ReactJsApp / > , document.getElementById('root'));","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3VYbY\",\"error\":\"FormsControls_error___ZlWY\",\"formSummeryError\":\"FormsControls_formSummeryError__2hjzR\"};","module.exports = __webpack_public_path__ + \"static/media/spinner.5289edaa.svg\";","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = state => {\r\n  return {\r\n    isAuth: state.auth.isAuth\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) {\r\n        return <Redirect to={\"/login\"} />\r\n      }\r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n  let ConnectedRedirectComponent = connect(mapStateToPropsRedirect)(RedirectComponent);\r\n  return ConnectedRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3WuPo\",\"loginBlock\":\"Header_loginBlock__3MFgJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"FriendItem_item__1JCll\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile_img\":\"ProfileInfo_profile_img__2WWEN\",\"userImg\":\"ProfileInfo_userImg__1Ccie\",\"contact\":\"ProfileInfo_contact__1Uodt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app_wrapper\":\"App_app_wrapper__3_f3m\",\"app_wrapper_content\":\"App_app_wrapper_content__1RD4J\",\"mainPreloader\":\"App_mainPreloader__3HQRP\"};"],"sourceRoot":""}